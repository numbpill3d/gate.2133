/* GHOST_BIOS.exe - Main Stylesheet */
/* The machine dreams in monochrome. */

/* === RESET & BASE === */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

*:focus {
  outline: var(--focus-outline);
  outline-offset: var(--focus-offset);
}

html {
  font-size: 16px;
  height: 100%;
}

body {
  font-family: var(--font-mono);
  background: var(--primary-bg);
  color: var(--text-primary);
  line-height: 1.4;
  height: 100vh;
  overflow: hidden;
  position: relative;
}

/* Scanlines overlay */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: var(--z-background);
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent var(--scanline-density),
    rgba(0, 255, 65, var(--scanline-opacity)) var(--scanline-density),
    rgba(0, 255, 65, var(--scanline-opacity)) calc(var(--scanline-density) + 1px)
  );
  display: var(--enable-scan-lines);
}

/* === BOOT SCREEN === */
.boot-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--primary-bg);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: var(--z-overlay);
  animation: bootFade 3s ease-in-out;
}

.boot-text {
  font-family: var(--font-mono);
  font-size: var(--text-base);
  color: var(--accent-green);
  text-shadow: var(--glow-green);
  white-space: pre-wrap;
  animation: typewriter 2s steps(200, end);
  border-right: 2px solid var(--accent-green);
}

@keyframes bootFade {
  0%, 70% { opacity: 1; }
  100% { opacity: 0; }
}

@keyframes typewriter {
  from { width: 0; }
  to { width: 100%; }
}

/* === BIOS INTERFACE === */
.bios-interface {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background: var(--primary-bg);
}

/* === HEADER === */
.bios-header {
  height: var(--header-height);
  background: var(--secondary-bg);
  border-bottom: var(--border-thick) solid var(--accent-green);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--space-md);
  box-shadow: var(--glow-green);
}

.bios-title {
  display: flex;
  align-items: center;
  gap: var(--space-lg);
}

.glitch {
  font-weight: bold;
  font-size: var(--text-lg);
  color: var(--accent-green);
  position: relative;
  display: var(--enable-glitch);
}

.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  left: 0;
  width: 100%;
  height: 100%;
}

.glitch::before {
  animation: glitch-1 var(--glitch-frequency) infinite linear alternate-reverse;
  color: var(--accent-purple);
  z-index: -1;
}

.glitch::after {
  animation: glitch-2 var(--glitch-frequency) infinite linear alternate-reverse;
  color: var(--accent-red);
  z-index: -2;
}

@keyframes glitch-1 {
  0% { transform: translateX(0); }
  20% { transform: translateX(-2px); }
  40% { transform: translateX(-2px); }
  60% { transform: translateX(2px); }
  80% { transform: translateX(2px); }
  100% { transform: translateX(0); }
}

@keyframes glitch-2 {
  0% { transform: translateX(0); }
  20% { transform: translateX(2px); }
  40% { transform: translateX(2px); }
  60% { transform: translateX(-2px); }
  80% { transform: translateX(-2px); }
  100% { transform: translateX(0); }
}

.system-time {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  font-family: var(--font-mono);
}

/* === BOOT MENU NAVIGATION === */
.boot-menu {
  display: flex;
  gap: var(--space-sm);
}

.menu-item {
  color: var(--text-primary);
  text-decoration: none;
  padding: var(--space-sm) var(--space-md);
  border: var(--border-width) solid var(--border-color);
  background: var(--tertiary-bg);
  font-size: var(--text-sm);
  transition: all var(--anim-speed-normal);
  position: relative;
}

.menu-item:hover,
.menu-item.active {
  background: var(--secondary-bg);
  border-color: var(--accent-green);
  color: var(--accent-green);
  box-shadow: var(--glow-green);
}

.menu-key {
  color: var(--accent-purple);
  font-weight: bold;
}

/* === MAIN CONTENT === */
.bios-main {
  flex: 1;
  display: flex;
  gap: var(--space-md);
  padding: var(--space-md);
  overflow: hidden;
}

/* === TERMINAL WINDOW === */
.terminal-window {
  flex: 1;
  background: var(--tertiary-bg);
  border: var(--border-width) solid var(--border-color);
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.window-header {
  height: var(--titlebar-height);
  background: var(--secondary-bg);
  border-bottom: var(--border-width) solid var(--border-color);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--space-sm);
}

.window-title {
  font-size: var(--text-xs);
  color: var(--text-bright);
  font-weight: bold;
}

.window-controls {
  display: flex;
  gap: var(--space-xs);
}

.control {
  width: 16px;
  height: 16px;
  background: var(--secondary-bg);
  border: var(--border-width) solid var(--border-color);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-xs);
  cursor: pointer;
  transition: all var(--anim-speed-fast);
}

.control:hover {
  background: var(--accent-red);
  color: var(--text-bright);
}

.window-content {
  flex: 1;
  padding: var(--space-md);
  overflow-y: auto;
  font-size: var(--text-sm);
}

/* === SYSTEM INFO === */
.system-info pre {
  color: var(--text-primary);
  margin-bottom: var(--space-lg);
  line-height: 1.6;
}

.activity-log {
  margin-top: var(--space-md);
  border-top: var(--border-width) solid var(--border-color);
  padding-top: var(--space-md);
}

.log-entry {
  display: flex;
  gap: var(--space-sm);
  margin-bottom: var(--space-xs);
  font-family: var(--font-mono);
  font-size: var(--text-xs);
}

.timestamp {
  color: var(--accent-blue);
  font-weight: bold;
}

.action {
  color: var(--text-secondary);
}

/* === QUICK ACTIONS === */
.quick-actions {
  margin-top: var(--space-lg);
  border-top: var(--border-width) solid var(--border-color);
  padding-top: var(--space-md);
}

.section-title {
  color: var(--accent-green);
  font-size: var(--text-base);
  margin-bottom: var(--space-md);
  font-family: var(--font-mono);
}

.action-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-sm);
}

.action-btn {
  background: var(--secondary-bg);
  border: var(--border-width) solid var(--border-color);
  color: var(--text-primary);
  padding: var(--space-sm) var(--space-md);
  font-family: var(--font-mono);
  font-size: var(--text-sm);
  cursor: pointer;
  transition: all var(--anim-speed-normal);
}

.action-btn:hover {
  background: var(--tertiary-bg);
  border-color: var(--accent-green);
  color: var(--accent-green);
  box-shadow: var(--glow-green);
}

/* === STATUS PANEL === */
.status-panel {
  width: var(--sidebar-width);
  background: var(--secondary-bg);
  border: var(--border-width) solid var(--border-color);
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  padding: var(--space-md);
  overflow-y: auto;
}

.panel-section {
  border-bottom: var(--border-width) solid var(--border-color);
  padding-bottom: var(--space-md);
}

.panel-section:last-child {
  border-bottom: none;
}

.panel-section h4 {
  color: var(--accent-purple);
  font-size: var(--text-sm);
  margin-bottom: var(--space-sm);
  font-family: var(--font-mono);
}

/* === VITAL BARS === */
.vital-bar {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin-bottom: var(--space-sm);
  font-size: var(--text-xs);
}

.vital-bar span:first-child {
  width: 40px;
  color: var(--text-secondary);
}

.vital-bar span:last-child {
  width: 40px;
  text-align: right;
  color: var(--text-primary);
}

.bar {
  flex: 1;
  height: 8px;
  background: var(--tertiary-bg);
  border: var(--border-width) solid var(--border-color);
  position: relative;
}

.bar-fill {
  height: 100%;
  background: var(--accent-green);
  transition: width var(--anim-speed-normal);
}

.glitch-bar {
  animation: barGlitch 2s infinite;
}

@keyframes barGlitch {
  0%, 90% { background: var(--accent-green); }
  95% { background: var(--accent-red); }
  100% { background: var(--accent-green); }
}

/* === PROCESS LIST === */
.process-list {
  font-size: var(--text-xs);
}

.process {
  display: grid;
  grid-template-columns: 40px 1fr 40px;
  gap: var(--space-sm);
  padding: var(--space-xs) 0;
  border-bottom: var(--border-width) solid var(--tertiary-bg);
}

.process:last-child {
  border-bottom: none;
}

.pid {
  color: var(--accent-blue);
  font-weight: bold;
}

.name {
  color: var(--text-primary);
}

.cpu {
  color: var(--accent-red);
  text-align: right;
}

/* === FOOTER === */
.bios-footer {
  height: var(--footer-height);
  background: var(--secondary-bg);
  border-top: var(--border-width) solid var(--accent-green);
  display: flex;
  align-items: center;
  padding: 0 var(--space-md);
}

.footer-info {
  display: flex;
  align-items: center;
  gap: var(--space-lg);
  font-size: var(--text-xs);
  width: 100%;
  justify-content: space-between;
}

.footer-info span {
  color: var(--text-secondary);
}

.ghost-indicator {
  color: var(--accent-purple) !important;
  font-weight: bold;
  animation: ghostPulse 2s infinite;
}

@keyframes ghostPulse {
  0%, 50% { opacity: 1; }
  25%, 75% { opacity: 0.5; }
}

/* === POPUP SYSTEM === */
.popup-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: var(--z-modal);
}

.popup-overlay.active {
  display: flex;
}

.popup-window {
  background: var(--tertiary-bg);
  border: var(--border-thick) solid var(--accent-green);
  min-width: var(--window-min-width);
  min-height: var(--window-min-height);
  max-width: 80vw;
  max-height: 80vh;
  display: flex;
  flex-direction: column;
  box-shadow: var(--glow-green);
}

.popup-header {
  height: var(--titlebar-height);
  background: var(--secondary-bg);
  border-bottom: var(--border-width) solid var(--border-color);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--space-sm);
}

.popup-title {
  font-size: var(--text-sm);
  color: var(--text-bright);
  font-weight: bold;
}

.popup-close {
  width: 20px;
  height: 20px;
  background: var(--accent-red);
  color: var(--text-bright);
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: var(--text-xs);
  font-weight: bold;
}

.popup-content {
  flex: 1;
  padding: var(--space-md);
  overflow-y: auto;
  font-size: var(--text-sm);
}

/* === RESPONSIVE DESIGN === */
@media (max-width: 768px) {
  .bios-main {
    flex-direction: column;
  }
  
  .status-panel {
    width: 100%;
    max-height: 200px;
  }
  
  .boot-menu {
    flex-wrap: wrap;
    gap: var(--space-xs);
  }
  
  .menu-item {
    padding: var(--space-xs) var(--space-sm);
    font-size: var(--text-xs);
  }
  
  .action-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .bios-header {
    flex-direction: column;
    height: auto;
    padding: var(--space-sm);
    gap: var(--space-sm);
  }
  
  .bios-title {
    flex-direction: column;
    gap: var(--space-xs);
    text-align: center;
  }
  
  .boot-menu {
    justify-content: center;
  }
  
  .popup-window {
    min-width: 90vw;
    min-height: 70vh;
  }
  
  .boot-text {
    font-size: var(--text-sm);
    padding: var(--space-md);
  }
}

/* === ACCESSIBILITY === */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* === PRINT STYLES === */
@media print {
  .bios-interface {
    background: white;
    color: black;
  }
  
  .popup-overlay,
  .boot-screen {
    display: none !important;
  }
}
